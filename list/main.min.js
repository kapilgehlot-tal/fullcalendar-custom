/*!
FullCalendar List View Plugin v4.3.0
Docs & License: https://fullcalendar.io/
(c) 2019 Adam Shaw
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fullcalendar-custom/core")):"function"==typeof define&&define.amd?define(["exports","fullcalendar-custom/core"],t):t((e=e||self).FullCalendarList={},e.FullCalendar)}(this,(function(e,t){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(e){function n(t){var n=e.call(this)||this;return n.listView=t,n}return r(n,e),n.prototype.attachSegs=function(e){this.listView.renderSegList(e)},n.prototype.detachSegs=function(){},n.prototype.renderSegHtml=function(e){var n=this.context.theme,r=e.eventRange,o=r.def,s=r.ui,i=o.url,a=["fc-list-item"].concat(s.classNames);return i&&a.push("fc-has-url"),'<tr class="'+a.join(" ")+'"><td colspan="3" class="fc-list-item-title '+n.getClass("widgetContent")+'"><a'+(i?' href="'+t.htmlEscape(i)+'"':"")+">"+(o.title||"")+"</a></td></tr>"},n.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:"short"}},n}(t.FgEventRenderer),s=function(e){function n(n,r){var s=e.call(this,n,r)||this;s.computeDateVars=t.memoize(i),s.eventStoreToSegs=t.memoize(s._eventStoreToSegs),s.renderSkeleton=t.memoizeRendering(s._renderSkeleton,s._unrenderSkeleton);var a=s.eventRenderer=new o(s);return s.renderContent=t.memoizeRendering(a.renderSegs.bind(a),a.unrender.bind(a),[s.renderSkeleton]),s}return r(n,e),n.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el})},n.prototype.render=function(t,n){e.prototype.render.call(this,t,n);var r=this.computeDateVars(t.dateProfile),o=r.dayDates,s=r.dayRanges;this.dayDates=o,this.renderSkeleton(n),this.renderContent(n,this.eventStoreToSegs(t.eventStore,t.eventUiBases,s))},n.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderSkeleton.unrender(),this.renderContent.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},n.prototype._renderSkeleton=function(e){var n=e.theme;this.el.classList.add("fc-list-view");for(var r=0,o=(n.getClass("listView")||"").split(" ");r<o.length;r++){var s=o[r];s&&this.el.classList.add(s)}this.scroller=new t.ScrollComponent("hidden","auto"),this.el.appendChild(this.scroller.el),this.contentEl=this.scroller.el},n.prototype._unrenderSkeleton=function(){this.scroller.destroy()},n.prototype.updateSize=function(t,n,r){e.prototype.updateSize.call(this,t,n,r),this.eventRenderer.computeSizes(t),this.eventRenderer.assignSizes(t),this.scroller.clear(),r||this.scroller.setHeight(this.computeScrollerHeight(n))},n.prototype.computeScrollerHeight=function(e){return e-t.subtractInnerElHeight(this.el,this.scroller.el)},n.prototype._eventStoreToSegs=function(e,n,r){return this.eventRangesToSegs(t.sliceEventStore(e,n,this.props.dateProfile.activeRange,this.context.nextDayThreshold).fg,r)},n.prototype.eventRangesToSegs=function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r];n.push.apply(n,this.eventRangeToSegs(s,t))}return n},n.prototype.eventRangeToSegs=function(e,n){var r,o,s,i=this.context,a=i.dateEnv,l=i.nextDayThreshold,d=e.range,c=e.def.allDay,u=[];for(r=0;r<n.length;r++)if((o=t.intersectRanges(d,n[r]))&&(s={component:this,eventRange:e,start:o.start,end:o.end,isStart:e.isStart&&o.start.valueOf()===d.start.valueOf(),isEnd:e.isEnd&&o.end.valueOf()===d.end.valueOf(),dayIndex:r},u.push(s),!s.isEnd&&!c&&r+1<n.length&&d.end<a.add(n[r+1].start,l))){s.end=d.end,s.isEnd=!0;break}return u},n.prototype.renderEmptyMessage=function(){this.contentEl.innerHTML='<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+t.htmlEscape(this.context.options.noEventsMessage)+"</div></div></div>"},n.prototype.renderSegList=function(e){var n,r,o,s=this.context.theme,i=this.groupSegsByDay(e),a=t.htmlToElement('<table class="fc-list-table '+s.getClass("tableList")+'"><tbody></tbody></table>'),l=a.querySelector("tbody");for(n=0;n<i.length;n++)if(r=i[n])for(l.appendChild(this.buildDayHeaderRow(this.dayDates[n],n)),r=this.eventRenderer.sortEventSegs(r),o=0;o<r.length;o++)l.appendChild(r[o].el);else l.appendChild(this.buildDayHeaderRow(this.dayDates[n],n));this.contentEl.innerHTML="",this.contentEl.appendChild(a)},n.prototype.groupSegsByDay=function(e){var t,n,r=[];for(t=0;t<e.length;t++)(r[(n=e[t]).dayIndex]||(r[n.dayIndex]=[])).push(n);return e.length||(r=[null,null,null,null,null,null,null]),r},n.prototype.buildDayHeaderRow=function(e,n){var r=this.context,o=r.theme,s=r.dateEnv,i=r.options,a=t.createFormatter(i.listDayFormat),l=t.createFormatter(i.listDayAltFormat);return t.createElement("tr",{className:0===n?"fc-list-heading first-child":"fc-list-heading","data-date":s.formatIso(e,{omitTime:!0})},'<td class="'+(o.getClass("tableListHeading")||o.getClass("widgetHeader"))+'" colspan="3"><div class="fc-widget-innerheader">'+(a?t.buildGotoAnchorHtml(i,s,e,{class:"fc-list-heading-main"},t.htmlEscape(s.format(e,a))):"")+(l?t.buildGotoAnchorHtml(i,s,e,{class:"fc-list-heading-alt"},t.htmlEscape(s.format(e,l))):"")+"</div></td>")},n}(t.View);function i(e){for(var n=t.startOfDay(e.renderRange.start),r=e.renderRange.end,o=[],s=[];n<r;)o.push(n),s.push({start:n,end:t.addDays(n,1)}),n=t.addDays(n,1);return{dayDates:o,dayRanges:s}}s.prototype.fgSegSelector=".fc-list-item";var a=t.createPlugin({views:{list:{class:s,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDayAltFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDayAltFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDayAltFormat:{weekday:"long"}}}});e.ListView=s,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));